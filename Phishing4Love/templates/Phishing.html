<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fishing For Love</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        background-color: rgba(0, 0, 0, 0.76);
        color: rgb(0, 0, 0);
    }
    .card {
        width: 300px;
        height: 500px;
        border: 2px solid #640000;
        border-radius: 10px;
        margin: 20px auto;
        overflow: hidden;
        position: relative;
        background-color: #ffffffea;
    }
    .card img {
        width: 100%;
        height: 70%;
        object-fit: cover;
    }
    .card .info {
        padding: 10px;
    }
    .btn {
        display: inline-block;
        padding: 10px 20px;
        margin: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    .btn-like {
        background-color: #4CAF50;
        color: white;
    }
    .btn-dislike {
        background-color: #f44336;
        color: white;
    }
</style>
</head>
<body>
<div class="card" id="profileCard">
    <img src="Phishing4Love/static/images/fish3.png" alt="Profile Picture">
    <div class="info">
    </div>
</div>
<button class="btn btn-dislike" onclick="dislikeProfile()">Dislike</button>
<button class="btn btn-like" onclick="likeProfile()">Like</button>

<script>
function randomNumber(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function generateRandomEmail(provider) {
    const niceEmails = ["lovely", "kind", "sweet"];
    const meanEmails = ["hater", "grumpy", "rude"];
    const characters = "abcdefghijklmnopqrstuvwxyz0123456789";
    let username = "";
    const usernameLength = randomNumber(5, 15);

    for (let i = 0; i < usernameLength; i++) {
        username += characters.charAt(Math.floor(Math.random() * characters.length));
    }

    const emailList = provider == "uah.edu" ? meanEmails : niceEmails;
    const randomEmail = `${username}@${provider}`;
    
    return randomEmail;
}

const profiles = [
    { name: "John Doe", description: "Trust me I'm mean real fish with email: ", image: "static/images/fish3.png", provider: "gmail.com" },
    { name: "Jane Smith", description: "I'm a nice fish with email: ", image: "static/images/fish2.png", provider: "yahoo.com" },
    { name: "Kevin Gasga", description: "Im a nice kevin with email: ", image: "static/images/fish1.png", provider: "uah.edu" },
    { name: "Jaden mare", description: "Trust me I'm a mean fish with email: ", image: "static/images/fish1.png", provider: "gmail.com" },
    { name: "Bill Joseph", description: "I'm a nice fish with email: ", image: "static/images/fish3.png", provider: "yahoo.com" },
    { name: "Noah Parker", description: "Im a mean1 kevin with email: ", image: "static/images/fish2.png", provider: "uah.edu" },
];
const nice = ["lovely", "kind", "sweet", "nice", "cool", "amazing", "awesome", "great", "brilliant"];
const mean = ["mean", "hater", "now", "help", "sad", "hate"];
let currentProfileIndex = 0;
const profileCard = document.getElementById("profileCard");
const infoContainer = document.querySelector(".card .info"); // Get the info container

function showProfile(index) {
    const profile = profiles[index];
    const randomEmail = generateRandomEmail(profile.provider);

    infoContainer.innerHTML = `
        <h2>${profile.name}</h2>
        <p>Email: ${randomEmail}</p>
        <p>Age: <span id="age">${randomNumber(18, 60)}</span></p>
        <p>Description: ${profile.description}${profile.provider == "uah.edu" ? "mean" : "nice"} email</p>
    `;
    // Set the image separately (more reliable)
    profileCard.innerHTML = `<img src="${profile.image}" alt="Profile Picture">` + infoContainer.outerHTML;
}

function dislikeProfile() {
    const currentProfile = profiles[currentProfileIndex];
    if (currentProfile.provider == "uah.edu" && currentProfile.description.includes(mean)) {
        alert("You disliked a profile with a phishing email address.");
    } else {
        alert("You disliked an innocent fish");
    }
    currentProfileIndex++;
    if (currentProfileIndex >= profiles.length) {
        currentProfileIndex = 0; // Wrap around to the beginning
    }
    showProfile(currentProfileIndex);
}

function likeProfile() {
    const currentProfile = profiles[currentProfileIndex];
    if (currentProfile.provider != "uah.edu" && currentProfile.description.includes(nice)) {
        alert("Oops! You liked a profile with a phishing email address.");
    } else {
        alert("You liked an innocent fish");
    }
    currentProfileIndex++;
    if (currentProfileIndex >= profiles.length) {
        currentProfileIndex = 0; // Wrap around to the beginning
    }
    showProfile(currentProfileIndex);
}
</script>
</body>
</html>